{% extends "base.html" %}

{% block content %}
<div class="container">
    <h1>Testowanie Powiadomień</h1>

    {% if error %}
        <div class="alert alert-danger">{{ error }}</div>
    {% endif %}

    <form method="post">
        {% csrf_token %}

        <!-- Wybór użytkownika -->
        <label for="user">Wybierz użytkownika:</label>
        <select name="user" id="user" required>
            <option value="">-- Wybierz użytkownika --</option>
            {% for user in users %}
                <option value="{{ user.id }}">{{ user.email }}</option>
            {% endfor %}
        </select>

        <!-- Treść powiadomienia -->
        <label for="message">Treść powiadomienia:</label>
        <textarea name="message" id="message" rows="5" placeholder="Treść powiadomienia"></textarea>

        <!-- Opcje e-mail -->
        <h2>Opcjonalnie: Wyślij e-mail</h2>
        <label for="email_subject">Temat wiadomości e-mail:</label>
        <input type="text" id="email_subject" name="email_subject" placeholder="Temat wiadomości e-mail">

        <label for="email_content">Treść wiadomości e-mail:</label>
        <textarea name="email_content" id="email_content" rows="5" placeholder="Treść wiadomości e-mail"></textarea>

        <div>
            <label>
                <input type="checkbox" name="send_email"> Wyślij jako wiadomość e-mail
            </label>
        </div>

        <button type="submit" class="btn btn-primary">Wyślij Powiadomienie</button>
    </form>
</div>
{% endblock %}
