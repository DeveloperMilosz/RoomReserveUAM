{% extends "base.html" %}

{% block content %}
<div class="container">
    <h1>Moje Rezerwacje</h1>

    <!-- Oczekujące -->
    <section>
        <h2>Oczekujące na rozpatrzenie</h2>
        {% if pending_meetings or pending_events %}
            <ul>
                {% for meeting in pending_meetings %}
                    <li>
                        <strong>Spotkanie: {{ meeting.name_pl }}</strong><br>
                        Data rozpoczęcia: {{ meeting.start_time }}<br>
                        Data zakończenia: {{ meeting.end_time }}<br>
                        Sala: {{ meeting.room.room_number }}<br>
                        <a href="{% url 'edit_meeting' meeting.id %}">Edytuj</a>
                    </li>
                {% endfor %}
                {% for event in pending_events %}
                    <li>
                        <strong>Wydarzenie: {{ event.name }}</strong><br>
                        Data rozpoczęcia: {{ event.start_date }}<br>
                        Data zakończenia: {{ event.end_date }}<br>
                        <a href="{% url 'edit_event' event.id %}">Edytuj</a>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>Brak oczekujących wniosków i rezerwacji.</p>
        {% endif %}
    </section>

    <!-- Zatwierdzone -->
    <section>
        <h2>Zaakceptowane</h2>
        {% if approved_meetings or approved_events %}
            <ul>
                {% for meeting in approved_meetings %}
                    <li>
                        <strong>Spotkanie: {{ meeting.name_pl }}</strong><br>
                        Data rozpoczęcia: {{ meeting.start_time }}<br>
                        Data zakończenia: {{ meeting.end_time }}<br>
                        Sala: {{ meeting.room.room_number }}<br>
                        <a href="{% url 'edit_meeting' meeting.id %}">Edytuj</a>
                    </li>
                {% endfor %}
                {% for event in approved_events %}
                    <li>
                        <strong>Wydarzenie: {{ event.name }}</strong><br>
                        Data rozpoczęcia: {{ event.start_date }}<br>
                        Data zakończenia: {{ event.end_date }}<br>
                        <a href="{% url 'edit_event' event.id %}">Edytuj</a>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>Brak zaakceptowanych wniosków i rezerwacji.</p>
        {% endif %}
    </section>

    <!-- Odrzucone -->
    <section>
        <h2>Odrzucone</h2>
        {% if rejected_meetings or rejected_events %}
            <ul>
                {% for meeting in rejected_meetings %}
                    <li>
                        <strong>Spotkanie: {{ meeting.name_pl }}</strong><br>
                        Data rozpoczęcia: {{ meeting.start_time }}<br>
                        Data zakończenia: {{ meeting.end_time }}<br>
                        Sala: {{ meeting.room.room_number }}<br>
                        <a href="{% url 'edit_meeting' meeting.id %}">Edytuj</a>
                    </li>
                {% endfor %}
                {% for event in rejected_events %}
                    <li>
                        <strong>Wydarzenie: {{ event.name }}</strong><br>
                        Data rozpoczęcia: {{ event.start_date }}<br>
                        Data zakończenia: {{ event.end_date }}<br>
                        <a href="{% url 'edit_event' event.id %}">Edytuj</a>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>Brak odrzuconych wniosków i rezerwacji.</p>
        {% endif %}
    </section>
</div>
{% endblock %}
