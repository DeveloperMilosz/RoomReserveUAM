{% extends "base.html" %}

{% block title %}
Wyszukaj Wolne Sale
{% endblock %}

{% block content %}
<div class="form-container">
    <h1>Wyszukaj Wolne Sale</h1>
    <form method="get" class="form-form">
        <div class="input-box">
            <label for="start_date">Data początkowa:</label>
            <input type="date" name="start_date" id="start_date">
        </div>
        <div class="input-box">
            <label for="start_time">Godzina początkowa:</label>
            <input type="time" name="start_time" id="start_time">
        </div>
        <div class="input-box">
            <label for="end_date">Data końcowa:</label>
            <input type="date" name="end_date" id="end_date">
        </div>
        <div class="input-box">
            <label for="end_time">Godzina końcowa:</label>
            <input type="time" name="end_time" id="end_time">
        </div>
        <div class="input-box">
            <label for="attribute">Wyposażenie:</label>
            <input type="text" name="attribute" id="attribute" placeholder="Wprowadź wyposażenie">
        </div>
        <button type="submit" class="form-button">Szukaj</button>
    </form>

</div>
{% if filter.qs %}
<table class="data-table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Nazwa sali</th>
            <th>Budynki</th>
            <th>Wyposażenie</th>
        </tr>
    </thead>
    <tbody>
        {% for room in filter.qs %}
        <tr>
            <td>{{ room.id }}</td>
            <td>{{ room.room_number }}</td>
            <td>{{ room.building_name_pl }}</td>
            <td>
                {% for attribute in room.attributes.all %}
                    {{ attribute.description_pl }}{% if not forloop.last %}, {% endif %}
                {% endfor %}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p class="no-results">Brak dostępnych sal w podanym przedziale czasu.</p>
{% endif %}
{% endblock %}